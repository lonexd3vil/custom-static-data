/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /gh/BMSVieira/moovie.js@1.1.5/js/moovie.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
class Moovie{constructor(e){const t={selector:"defaultId",dimensions:{width:"100%"},config:{storage:{captionOffset:!1,playrateSpeed:!1,captionSize:!1},controls:{playtime:!0,mute:!0,volume:!0,subtitles:!0,config:!0,fullscreen:!0,submenuCaptions:!0,submenuOffset:!0,submenuSpeed:!0,allowLocalSubtitles:!0},i18n:{play:"(Play:Pause)",mute:"(Mute:Unmute)",subtitles:"(Enable:Disable) Subtitles",config:"Settings",fullscreen:"(Enter:Exit) Fullscreen",main_topic:"settings:",main_caption:"Captions",main_offset:"Caption Offset",main_speed:"Speed",main_disabled:"Disabled",main_default:"Default",caption_topic:"Captions:",caption_back:"Back",caption_load:"Load Locally",offset_topic:"Adjust Caption Offset",speed_topic:"Speed Adjust"}},icons:{path:"./icons/"}};var o=Math.floor(1e4*Math.random())+0;for(var n in null==e.config?e.config=t.config:e.config,null==e.config.controls?e.config.controls=t.config.controls:e.config.controls,t.config.controls)null==e.config.controls[n]?e.config.controls[n]=t.config.controls[n]:e.config.controls[n]=e.config.controls[n];for(var n in null==e.config.storage?e.config.storage=t.config.storage:e.config.storage,t.config.storage)null==e.config.storage[n]?e.config.storage[n]=t.config.storage[n]:e.config.storage[n]=e.config.storage[n];for(var n in null==e.config.i18n?e.config.i18n=t.config.i18n:e.config.i18n,t.config.i18n)null==e.config.i18n[n]?e.config.i18n[n]=t.config.i18n[n]:e.config.i18n[n]=e.config.i18n[n];this.selector=e.selector.substring(1)||t.selector.substring(1),this.dimensions=e.dimensions||t.dimensions,this.config=e.config||t.config,this.i18n=e.config.i18n||t.config.i18n,this.icons=e.icons||t.icons,this.element=document.getElementById(this.selector),this.randomID=o,this.options=e||t,this.events={captions:{name:!1,subtitles:!1},offset:{value:!1}};var i,s,l,a,c,r,u,d,m,p,_,v,g,f,y,h,b,E,L,k,I,S=this,B=0,T=0,x=0,w=1,C=0,M=0,A=0,O=0,H=[],F=this.icons,P=this.config,j=this.dimensions,D=this.selector,q=this.mainmenu=[{name:"play_button",element:"<button class='player__button toggle' id='tooglebutton_"+o+"'><img id='moovie_bplay_"+o+"' src='https://cdn.jsdelivr.net/gh/lonexd3vil/images@main/play.svg'></button>",opcional:!1,tooltip:this.i18n.play},{name:"progress_bar",element:"<div class='moovie_cuetime' id='moovie_cue_timer_"+o+"'>loading...</div><div id='moovie_moovie_el_progressbar_"+o+"' class='moovie_progress player__slider' top:15px;><input type='range' id='range_progress_"+o+"' class='styled-slider slider-progress' min='0' value='0' step='0.01' autocomplete='off' style='width: 100%; cursor:pointer;' /><canvas id='moovie_buffered_"+o+"' style='position: absolute; bottom: 14px; left: 0; opacity: 0.4;  width: 100%; height:5px;'></canvas></div>",opcional:!1,tooltip:!1},{name:"playtime",element:"<div id='moovie_el_current_"+o+"' class='player__button player_button_disabled moovie_currentime'><span id='moovie_currentime_"+o+"'>00:00</span> / <span id='moovie_fulltime_"+o+"'></span></div>",opcional:!0,tooltip:!1},{name:"mute",element:"<button id='mooviegrid_mute_"+o+"' class='player__button'><img id='icon_volume_"+o+"' src='https://cdn.jsdelivr.net/gh/lonexd3vil/images@main/volume.svg'></button>",opcional:!0,tooltip:this.i18n.mute},{name:"volume",element:"<input type='range' id='mooviegrid_volume_"+o+"' style='max-width:100px; min-width:50px;' name='volume' class='moovie_progress_sound' min=0 max='1' step='0.01' value='1'>",opcional:!0,tooltip:!1},{name:"subtitles",element:"<button id='moovie_subtitle_"+o+"' style='margin-left:5px' class='player__button'><img class='opacity_svg' id='moovie_subtitle_svg_"+o+"' src='https://cdn.jsdelivr.net/gh/lonexd3vil/images@main/cc.svg'></button>",opcional:!0,tooltip:this.i18n.subtitles},{name:"config",element:"<button id='moovie_el_cog_"+o+"' class='player__button'><img src='https://cdn.jsdelivr.net/gh/lonexd3vil/images@main/cog.svg'></button>",opcional:!0,tooltip:this.i18n.config},{name:"fullscreen",element:"<button id='fullscreen_"+o+"' class='player__button fullscreen_button'><img src='https://cdn.jsdelivr.net/gh/lonexd3vil/images@main/fullscreen.svg'></button>",opcional:!0,tooltip:this.i18n.fullscreen},{name:"Main Submenu",element:"<div style='display:none;' class='moovie_submenu menuclosed' id='moovie_submenu_"+o+"'></div>",opcional:!1,tooltip:!1}],z=this.submenu={mainSubmenu:{mainElement:"<ul id='moovie_submenu_main_"+o+"'></ul>",parentID:"moovie_submenu_main_",elements:[{name:"topic",element:"<li class='topic_submenu'>"+this.i18n.main_topic+"</li>",opcional:!1},{name:"submenuCaptions",element:"<li id='this.moovie_el_topicCaption_"+o+"'><span>"+this.i18n.main_caption+"</span><span class='option_submenu' id='option_submenu_caption_"+o+"'>"+this.i18n.main_disabled+"</span></li>",opcional:!0},{name:"submenuOffset",element:"<li id='moovie_el_capoffset_"+o+"'><span >"+this.i18n.main_offset+"</span><span class='option_submenu' id='option_submenu_range_"+o+"'>0s</span></li>",opcional:!0},{name:"submenuSpeed",element:"<li id='topic_submenu_speed_"+o+"'><span>"+this.i18n.main_speed+"</span><span class='option_submenu' id='option_submenu_speed_"+o+"'>"+this.i18n.main_default+"</span></li>",opcional:!0}]},captionSubmenu:{mainElement:"<ul style='display:none;' id='moovie_submenu_captions_"+o+"'><input style='display:none;' type='file' id='localsub_"+o+"'><li class='topic_submenu'>"+this.i18n.caption_topic+"</li><li id='moovie_el_capback_"+o+"' style='font-weight:bold;'>"+this.i18n.caption_back+"</li></ul>",parentID:"moovie_submenu_captions_",elements:[{name:"allowLocalSubtitles",element:"<li id='locally_"+o+"' style='font-weight:bold;'>"+this.i18n.caption_load+"</li>",opcional:!0}]},rangeSubmenu:{mainElement:"<ul style='display:none; width:250px;' id='moovie_range_captions_"+o+"'><li class='topic_submenu'>"+this.i18n.offset_topic+"<output style='position:absolute; right:22px;' id='valoffset_"+o+"'>0</output></li><li class='topic_submenu'><span>-5s</span><span style='float: right;'>+5s</span><input type='range' oninput='valoffset_"+o+".value = offset_range_input_"+o+".value' id='offset_range_input_"+o+"' min='-5' max='5' step='0.2'></li>",parentID:"moovie_range_captions_"},speedSubmenu:{mainElement:"<ul style='display:none; width:250px;' id='moovie_range_speed_"+o+"'><li class='topic_submenu'>"+this.i18n.speed_topic+"<output style='position:absolute; right:22px;' id='valoffset_speed_"+o+"'>1</output></li><li class='topic_submenu'><span>0.1x</span><span style='float: right;'>8x</span><input type='range' value='1' oninput='valoffset_speed_"+o+".value = offset_range_speed_"+o+".value' id='offset_range_speed_"+o+"' min='0.1' max='8' step='0.1'></li>",parentID:"moovie_range_speed_"}};let N=new CustomEvent("captionchange",{detail:this.events.captions,bubbles:!1,cancelable:!1,composed:!1}),R=new CustomEvent("offsetchange",{detail:this.events.offset,bubbles:!1,cancelable:!1}),V=new CustomEvent("togglecaption",{detail:this.events.captions,bubbles:!1,cancelable:!1});function W(e,t){var o;return function(){var n=this,i=arguments,s=function(){o=!1};o||(e.apply(n,i),o=!0,setTimeout(s,t))}}var K=this.handleStorage=function(e,t,n){switch(e){case"set":localStorage.setItem(t,n);break;case"get":break;case"setStorage":P.storage.captionOffset&&(u.value=localStorage.getItem("captionOffset"),se()),P.storage.playrateSpeed&&(r.value=localStorage.getItem("playrateSpeed"),le()),P.storage.captionSize&&(document.getElementById("caption_track_"+o).style.fontSize=localStorage.getItem("captionSize")+"px")}},X=this.togglePlay=function(){document.getElementById("poster_layer_"+o).style.backgroundImage="none",1==s.paused?(s.play(),document.getElementById("moovie_bplay_"+o).src="https://cdn.jsdelivr.net/gh/lonexd3vil/images@main/pause.svg",J("hide"),ue("play_button",1)):(s.pause(),document.getElementById("moovie_bplay_"+o).src="https://cdn.jsdelivr.net/gh/lonexd3vil/images@main/play.svg",J("show"),ue("play_button",0))},G=this.SetFullScreen=function(e){switch(e){case"toggleFullscreen":v.requestFullscreen?v.requestFullscreen():v.webkitRequestFullscreen?v.webkitRequestFullscreen():v.msRequestFullscreen&&v.msRequestFullscreen(),ue("fullscreen",1),1>=outerHeight-innerHeight&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),ue("fullscreen",0)),pe("CAll");break;case"checkFullscreen":1>=outerHeight-innerHeight?ue("fullscreen",1):ue("fullscreen",0)}};function U(){var e,t,o=l.getContext("2d"),n=S.video.buffered,i=n.length,s=l.width,a=l.height,c=S.video.duration;for(o.clearRect(0,0,s,a),o.fillStyle="#e1e1dd";i--;)e=n.start(i)/c*s,t=n.end(i)/c*s,o.fillRect(e,0,t-e,a);setTimeout(U,500)}function Y(){s.focus()}function J(e){"show"==e?(h.style.display="block",h.classList.remove("posteroff"),h.classList.add("posteron")):"hide"==e&&(h.style.display="none",h.classList.remove("posteron"),h.classList.add("posteroff"))}function Q(){s[this.name]=this.value}function Z(e,t){switch(t){case"left":var o=s.currentTime;s.currentTime=o-e;var n=L.value;L.value=Number(n)-5;break;case"right":o=s.currentTime;s.currentTime=o+e;n=L.value;L.value=Number(n)+5}}function $(e){x=function(e){return e.offsetX/e.target.clientWidth*parseInt(e.target.getAttribute("max"))}(e).toFixed(2),_.style.opacity="1",_.style.left=e.offsetX+"px",_.innerHTML=te(x)}function ee(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}function te(e){var t=new Date(1970,0,1);t.setSeconds(e);var o=t.toTimeString().substr(0,8);return e>86399&&(o=Math.floor((t-Date.parse("1/1/70"))/36e5)+o.substr(2)),e<3600&&(o=o.substring(3)),o}function oe(){0==M&&(document.getElementById("moovie_currentime_"+o).innerHTML=te(s.currentTime)),s.currentTime>=s.duration&&(s.currentTime=0,L.value=0,X())}function ne(){const e=[".vtt",".srt"];new Promise((async function(t,n){const i=document.querySelector("#localsub_"+o).files[0];var s=i.name.substr(i.name.length-4);if(e.includes(s)){document.querySelectorAll("#moovie_submenu_captions_"+o+" .caption_track").forEach((e=>{e.remove()}));const e=await(e=>new Promise(((t,o)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result),n.onerror=e=>o(e)})))(i);let n=i.name.substring(0,10);document.getElementById(D).insertAdjacentHTML("beforeend","<track label='"+n+"...' format='"+s+"' srclang='Local' src='"+e+"'>"),t()}else console.log("Only .vtt and .srt formats are allowed.")})).then((function(){fe(),console.log("Local caption added successfully.")}))}var ie=W((function(){if(U(),!s.paused){var e=L.value;L.value=Number(e)+1}}),1e3),se=this.OffsetChange=function(){A=document.getElementById("offset_range_input_"+o).value,document.getElementById("option_submenu_range_"+o).innerHTML=A+"s",document.getElementById("valoffset_"+o).value=A,P.storage.captionOffset&&K("set","captionOffset",A),S.events.offset.value=A,S.video.dispatchEvent(R)},le=this.SpeedChange=function(){w=document.getElementById("offset_range_speed_"+o).value,document.getElementById("valoffset_speed_"+o).value=w,document.getElementById("option_submenu_speed_"+o).innerHTML=1==w?S.i18n.main_default:w+"x",s.playbackRate=w,P.storage.playrateSpeed&&K("set","playrateSpeed",w)};function ae(e){if(ee()){if(null==(t=document.getElementById("range_progress_"+o).value)){const o=(t=e.touches[0].clientX)/g.offsetWidth*s.duration;o>=s.duration&&(o=s.duration),s.currentTime=o}else s.currentTime=t}else{var t;const o=(t=e.offsetX)/g.offsetWidth*s.duration;o>=s.duration&&(o=s.duration),s.currentTime=o}}function ce(e){s.volume=c.value,K("set","scrubsound",s.volume),me("checkMute")}function re(e){"close"==e?0==O&&0==s.paused&&(pe("CAll"),document.getElementById("moovie__controls_"+o).style.opacity=0,document.getElementById("caption_track_"+o).style.marginBottom="0px"):"open"==e&&1==T&&(document.getElementById("caption_track_"+o).style.marginBottom="40px",document.getElementById("moovie__controls_"+o).style.opacity=1)}var ue=S.ChangeTooltip=function(e,t){let o=S.tooltips_menu[e].element;for(var n=0,s=0;s<S.mainmenu.length;s++)S.mainmenu[s].name==e&&(n=S.mainmenu[s].tooltip);if(n.indexOf("(")>-1){var l=n.substring(n.lastIndexOf("(")+1,n.lastIndexOf(")"));i=l.split(":");var a=n.replace(/\(.*\)/,"");a=a.replace(" ","");var c=i[t]+" "+a}c&&(o.innerText=c);let r=o.offsetWidth/2-7;if(o.style.marginLeft="-"+r+"px",o.offsetLeft+o.offsetWidth>=S.moovie_el_controlbar.offsetWidth){let e=o.offsetLeft+o.offsetWidth-S.moovie_el_controlbar.offsetWidth;e=r+e+5,o.style.marginLeft="-"+e+"px"}o.offsetLeft<=0&&(o.style.marginLeft="-19px")},de=this.ActivateSubtitles=function(){1==C?0==B?(B=1,document.getElementById("moovie_subtitle_svg_"+o).classList.remove("opacity_svg"),ue("subtitles",1),S.events.captions.subtitles=!0):1==B&&(B=0,document.getElementById("moovie_subtitle_svg_"+o).classList.add("opacity_svg"),ue("subtitles",0),S.events.captions.subtitles=!1):console.log("You must choose an Subtitle first."),S.video.dispatchEvent(V)},me=this.checkSoundLevel=function e(t){switch(t){case"checkMute":s.muted||0==s.volume?(s.muted=!1,c.value=localStorage.getItem("scrubsound"),s.volume=localStorage.getItem("scrubsound"),document.getElementById("icon_volume_"+o).src="https://cdn.jsdelivr.net/gh/lonexd3vil/images@main/mute.svg",ue("mute",1)):(document.getElementById("icon_volume_"+o).src="https://cdn.jsdelivr.net/gh/lonexd3vil/images@main/volume.svg",ue("mute",0));break;case"toogleMute":1==s.muted?e("unmutePlayer"):e("mutePlayer");break;case"checkStorage":localStorage.getItem("scrubsound")?(c.value=localStorage.getItem("scrubsound"),s.volume=localStorage.getItem("scrubsound")):(c.value="1",s.muted=!1,K("set","scrubsound",1)),e("checkMute");break;case"mutePlayer":s.muted=!0,s.volume=0,document.getElementById("icon_volume_"+o).src="https://cdn.jsdelivr.net/gh/lonexd3vil/images@main/mute.svg",document.getElementById("mooviegrid_volume_"+o).value="0",ue("mute",1);break;case"unmutePlayer":s.muted=!1,e("checkMute"),localStorage.getItem("scrubsound")?c.value=localStorage.getItem("scrubsound"):c.value="1",ue("mute",0),0!=s.volume&&(document.getElementById("icon_volume_"+o).src="https://cdn.jsdelivr.net/gh/lonexd3vil/images@main/volume.svg")}},pe=this.Submenu=function(e){switch(e){case"toggleSubmenu":I.style.display="block",k.style.display="none",p.style.display="none",d.style.display="none",b.classList.contains("menuclosed")?(b.style.display="block",b.classList.add("menuopen"),b.classList.remove("menuclosed"),O=1):(b.style.display="none",b.classList.add("menuclosed"),b.classList.remove("menuopen"),O=0);break;case"CAll":I.style.display="none",k.style.display="none",p.style.display="none",d.style.display="none",b.classList.add("menuclosed"),O=0;break;case"OCaption":I.style.display="none",k.style.display="block";break;case"CCaption":I.style.display="block",k.style.display="none";break;case"OSpeed":I.style.display="none",document.getElementById("moovie_range_speed_"+o).style.display="block";break;case"ORange":I.style.display="none",document.getElementById("moovie_range_captions_"+o).style.display="block"}},_e=this.TransformPlayer=function(e){y.offsetWidth<=460?(M=1,document.getElementById("moovie_el_current_"+o).style.display="none",document.getElementById("moovie_moovie_el_progressbar_"+o).classList.add("responsive_bar"),_.classList.add("moovie_cuetime_small")):(M=0,document.getElementById("moovie_el_current_"+o).style.display="block",document.getElementById("moovie_moovie_el_progressbar_"+o).classList.remove("responsive_bar"),document.getElementById("moovie_fulltime_"+o).innerHTML=te(s.duration),_.classList.remove("moovie_cuetime_small"))},ve=this.SetCaptionSize=function(e){const t=document.getElementById("caption_track_"+o);var n=window.getComputedStyle(t).fontSize;if(e)"sizeUp"==e?(n=n.slice(0,-2),n=Number(n)+Number(1),t.style.fontSize=n+"px"):"sizeDown"==e&&(n=n.slice(0,-2),n=Number(n)-Number(1),t.style.fontSize=n+"px"),P.storage.captionSize&&K("set","captionSize",n);else{var i=.1*y.offsetWidth;t.style.fontSize=i+"%",t.style.lineHeight=i/3+"px"}},ge=this.PlayCaption=function(e){function t(){for(var e=1;e<H.length;e++)if(null!=H[e].starttime&&null!=H[e].endtime){var t=H[e].starttime,n=H[e].endtime;if(A>=0)var i=s.currentTime-A;else{var l=String(A).substring(1);i=s.currentTime+Number(l)}a=void 0,c=void 0,r=void 0,u=void 0,d=void 0,m=void 0,a=function(e,t){return("000"+e).slice(-1*t)},c=parseFloat(i).toFixed(3),r=Math.floor(c/60/60),u=Math.floor(c/60)%60,d=Math.floor(c-60*u),m=c.slice(-3),(i=a(r,2)+":"+a(u,2)+":"+a(d,2)+"."+a(m,3))>=t&&i<=n&&1==B&&(null!=H[e].text2?document.getElementById("caption_track_"+o).innerHTML=H[e].text1+"<br>"+H[e].text2:document.getElementById("caption_track_"+o).innerHTML=H[e].text1),i>n&&(document.getElementById("caption_track_"+o).innerHTML="")}var a,c,r,u,d,m}H=[];var n=new XMLHttpRequest;if(n.open("GET",e.attributes.src.nodeValue,!0),e.attributes.format)var l=e.attributes.src.nodeValue+e.attributes.format.nodeValue;else l=e.attributes.src.nodeValue;S.events.captions.name=e.attributes.label.nodeValue,n.onload=function(){if(this.status>=200&&this.status<400){var e=this.response;e=e.replace(/(\r\n|\r|\n)/g,"\n");var t=l.substr(l.length-4);".srt"==t&&(e="STR\n\n"+e),e.split("\n\n").map((function(e){var o,n,s;null!=(i=e.split("\n"))[1]?isNaN(i[0])?(o=i[0].replace(/-/g,"")).replace(/ /g,"")&&(".srt"==t&&(o=i[0].replace(/,/g,".")),n=(n=o.substr(0,o.indexOf(">"))).replace(/ /g,""),s=(s=o.split(">",2))[1].replace(/ /g,""),n=n.replace(/--/g,""),s=s.replace(/--/g,""),".srt"==t&&(s=s.replace(/,/g,"."),n=n.replace(/,/g,".")),H.push({starttime:n,endtime:s,text1:i[1],text2:i[2]})):(o=i[1].replace(/-/g,"")).replace(/ /g,"")&&(n=(n=o.substr(0,o.indexOf(">"))).replace(/ /g,""),s=(s=o.split(">",2))[1].replace(/ /g,""),".srt"==t&&(s=s.replace(/,/g,"."),n=n.replace(/,/g,".")),H.push({starttime:n,endtime:s,text1:i[2],text2:i[3]})):H.push({starttime:void 0,endtime:void 0,text1:void 0,text2:void 0})}))}},n.send(),s.addEventListener("timeupdate",t,!0),1==C?s.removeEventListener("timeupdate",t,!0):(C=1,de()),S.video.dispatchEvent(N)},fe=(this.SetCaptions=function(e){let t=e.attributes.src.nodeValue.substr(e.attributes.src.nodeValue.length-4),n=e.track.label;var i=Math.floor(1e4*Math.random())+0;e.attributes.format&&(t=e.attributes.format.nodeValue),k.insertAdjacentHTML("beforeend","<li class='caption_track' id='captionid_"+i+"'><span>"+n+"</span><span class='labelformat'>"+t+"</span></li>"),document.getElementById("captionid_"+i).addEventListener("click",(function(){ge(e),document.getElementById("option_submenu_caption_"+o).innerHTML=n,pe("toggleSubmenu")}))},this.GetCaptions=function(){for(var e=document.getElementById(S.selector).getElementsByTagName("track"),t=0;t<e.length;t++)S.SetCaptions(e[t])});this.Keybinds=function(){const e={keycode_32(){X()},keycode_75(){X()},keycode_70(){G("toggleFullscreen")},keycode_39(){Z(5,"right")},keycode_37(){Z(5,"left")},keycode_77(){me("toogleMute")},keycode_67(){de()},keycode_shift87(){ve("sizeUp")},keycode_shift83(){ve("sizeDown")}};s.addEventListener("keydown",(function(t){let o;(32==t.keyCode||t.shiftKey&&87==t.keyCode||t.shiftKey&&83==t.keyCode)&&t.preventDefault(),o=t.shiftKey?e["keycode_shift"+t.keyCode]:e["keycode_"+t.keyCode],o&&o()}))},this.SetupLogic=function(){if(v=document.querySelector("#moovie__video_"+o),s=v.querySelector("#moovie_vid_"+o),this.video=s,s.addEventListener("loadedmetadata",(e=>{this.medialoading.style.display="none",E.style.opacity=1,T=1,L.setAttribute("max",s.duration),0==M&&(document.getElementById("moovie_fulltime_"+o).innerHTML=te(s.duration)),U(),K("setStorage"),me("checkStorage")})),s.addEventListener("timeupdate",ie),s.addEventListener("timeupdate",oe),v.addEventListener("click",Y),(f=v.querySelector(".fullscreen_button")).addEventListener("click",(function(){G("toggleFullscreen")}),!0),document.addEventListener("fullscreenchange",(function(){G("checkFullscreen")}),!0),v.querySelector(".toggle").addEventListener("click",X),v.querySelectorAll(".player__slider").forEach((e=>e.addEventListener("change",Q))),this.moovie_el_rangeinput.addEventListener("change",se),this.moovie_el_speedinput.addEventListener("change",le),c=document.getElementById("mooviegrid_volume_"+o),document.getElementById("mooviegrid_mute_"+o).addEventListener("click",(function(){me("toogleMute")}),!1),g=v.querySelector(".moovie_progress"),this.control_buttons.config.addEventListener("click",(function(){pe("toggleSubmenu")}),!0),this.moovie_el_topicCaption.addEventListener("click",(function(){pe("OCaption")}),!0),this.moovie_el_topicSpeed.addEventListener("click",(function(){pe("OSpeed")}),!0),this.moovie_el_capback.addEventListener("click",(function(){pe("CCaption")}),!0),this.control_buttons.subtitles.addEventListener("click",de),y.addEventListener("mouseleave",(function(){pe("CAll")}),!1),this.moovie_el_capoffset.addEventListener("click",(function(){pe("ORange")}),!0),ee()){"ios"==function(){const e=navigator.userAgent;return/android/i.test(e)?"android":/iPad|iPhone|iPod/i.test(e)?"ios":void 0}()&&(this.moovie_el_volume.style.display="none",f.style.display="none",s.style.transformStyle="preserve-3d"),L.addEventListener("touchmove",(function(e){ae(e),s.pause()})),L.addEventListener("change",(function(e){ae(e),s.pause()||X(),J("hide")}),!1),h.addEventListener("touchend",(function(e){s.pause()||X()})),c.addEventListener("touchmove",(function(e){ce()})),c.addEventListener("change",(function(e){ce()}),!1),a.style.display="none";e=null;y.addEventListener("touchstart",(t=>{clearTimeout(e),re("open"),e=setTimeout((function(){re("close")}),4e3)})),y.addEventListener("touchmove",(t=>{clearTimeout(e)})),y.addEventListener("touchend",(t=>{clearTimeout(e),e=setTimeout((function(){re("close")}),4e3)}))}else{let t=!1;g.addEventListener("click",ae),g.addEventListener("mousemove",(e=>t&&ae(e))),c.addEventListener("click",ce);let n=!1;c.addEventListener("mousemove",(e=>n&&ce())),c.addEventListener("mousedown",(()=>n=!0)),c.addEventListener("mouseup",(()=>n=!1)),(h=v.querySelector("#poster_layer_"+o)).addEventListener("click",X),s.addEventListener("click",X),a.addEventListener("click",(function(){m.click()}),!0),m.addEventListener("change",ne),document.getElementById("range_progress_"+o).addEventListener("mousemove",(function(e){$(e)})),document.getElementById("range_progress_"+o).addEventListener("mouseleave",(function(e){_.style.opacity=0})),g.addEventListener("mousedown",(()=>t=!0)),g.addEventListener("mouseup",(()=>t=!1)),E.addEventListener("mouseover",(e=>{O=1})),E.addEventListener("mouseleave",(e=>{O=0})),L.addEventListener("input",(function(e){s.pause()}),!1),L.addEventListener("change",(function(e){X(),J("hide")}),!1),re("close");var e=null;y.addEventListener("mousemove",(t=>{clearTimeout(e),re("open"),e=setTimeout((function(){re("close")}),2e3)})),y.addEventListener("mouseleave",(t=>{clearTimeout(e),re("close")}))}},this.SetupMenu=function(){for(var e=0;e<q.length;e++)null!=this.config.controls[q[e].name]&&1==this.config.controls[q[e].name]||0==q[e].opcional?E.insertAdjacentHTML("beforeend",q[e].element):E.insertAdjacentHTML("beforeend","<div style='display:none;'>"+q[e].element+"</div>");var t=this.tooltips_menu=[];for(e=0;e<q.length;e++)if(q[e].tooltip){let n=(new DOMParser).parseFromString(q[e].element,"text/html");document.getElementById(n.body.firstChild.id).insertAdjacentHTML("beforeend","<div id='moovie_"+q[e].name+"_tooltip_"+o+"' class='moovie_tooltip'>"+q[e].tooltip+"</div>");document.getElementById(n.body.firstChild.id);let i=document.getElementById("moovie_"+q[e].name+"_tooltip_"+o);t[q[e].name]={element:i},this.ChangeTooltip(q[e].name,0)}b=document.getElementById("moovie_submenu_"+o);for(let t in z)if(b.insertAdjacentHTML("beforeend",z[t].mainElement),z[t].hasOwnProperty("elements"))for(e=0;e<z[t].elements.length;e++)null!=this.config.controls[z[t].elements[e].name]&&1==this.config.controls[z[t].elements[e].name]||0==z[t].elements[e].opcional?document.getElementById(z[t].parentID+o).insertAdjacentHTML("beforeend",z[t].elements[e].element):document.getElementById(z[t].parentID+o).insertAdjacentHTML("beforeend","<div style='display:none;'>"+z[t].elements[e].element);L=document.getElementById("range_progress_"+o),k=document.getElementById("moovie_submenu_captions_"+o),d=document.getElementById("moovie_range_captions_"+o),p=document.getElementById("moovie_range_speed_"+o),this.moovie_el_topicCaption=document.getElementById("this.moovie_el_topicCaption_"+o),this.moovie_el_topicSpeed=document.getElementById("topic_submenu_speed_"+o),this.moovie_el_capback=document.getElementById("moovie_el_capback_"+o),this.moovie_el_capoffset=document.getElementById("moovie_el_capoffset_"+o),this.moovie_el_speedinput=r=document.getElementById("offset_range_speed_"+o),this.moovie_el_rangeinput=u=document.getElementById("offset_range_input_"+o),this.moovie_el_progressbar=L,this.moovie_el_volume=document.getElementById("mooviegrid_volume_"+o),this.moovie_el_cuetimer=_=document.getElementById("moovie_cue_timer_"+o),this.moovie_el_submenuBase=b,this.moovie_el_localsub=m=document.getElementById("localsub_"+o),this.moovie_el_locally=a=document.getElementById("locally_"+o),this.moovie_el_submain=I=document.getElementById("moovie_submenu_main_"+o),this.moovie_el_buffered=l=document.getElementById("moovie_buffered_"+o),this.control_buttons={play:this.moovie_el_play=document.getElementById("tooglebutton_"+o),mute:this.moovie_el_mute=document.getElementById("mooviegrid_mute_"+o),subtitles:this.moovie_el_subtitles=document.getElementById("moovie_subtitle_"+o),config:this.moovie_el_cog=document.getElementById("moovie_el_cog_"+o),fullscreen:this.moovie_el_fullscreen=document.getElementById("fullscreen_"+o)}},this.SetupPlayer=function(){var e=this.element.getAttribute("src");null==e&&null!=this.element.getElementsByTagName("source")[0]?e=this.element.getElementsByTagName("source")[0].src:console.log("No video source found. Read documentation to a add video source dynamically.");var t=document.getElementById(this.selector).getAttribute("poster");this.element.style.display="none",this.element.insertAdjacentHTML("afterend","<div style='width:"+j.width+"' id='moovie__video_"+o+"' class='moovie'></div>"),this.moovie_el_video=y=document.getElementById("moovie__video_"+o),y.insertAdjacentHTML("beforeend","<video tabindex='1' id='moovie_vid_"+o+"' preload='auto' class='player__video viewer' style='width:100%; height:100%;' src='"+e+"' playsinline></video>"),y.insertAdjacentHTML("beforeend","<div style='opacity:0;' id='moovie__controls_"+o+"' class='moovie_controls'></div>"),this.moovie_el_controlbar=E=document.getElementById("moovie__controls_"+o),y.insertAdjacentHTML("afterbegin","<div id='medialoading_"+o+"' class='loadingv'><div class='loading animated fadeIn'><div class='moovie_bg'></div></div></div><div class='poster_layer posteron' id='poster_layer_"+o+"'></div>"),this.medialoading=document.getElementById("medialoading_"+o),this.moovie_el_poster=h=document.getElementById("poster_layer_"+o),h.insertAdjacentHTML("afterbegin","<div class='poster_center' id='poster_center_"+o+"' style=''></div>"),document.getElementById("poster_center_"+o).insertAdjacentHTML("afterbegin","<div class='poster_button'><img src='"+"https://cdn.jsdelivr.net/gh/lonexd3vil/images@main/play.svg' style='width: 24px; position: relative; left: 3px;'></div>"),null!=t&&(h.style.backgroundImage="url("+t+")",h.style.backgroundSize="100%"),y.insertAdjacentHTML("beforeend","<div class='moovie_captionspot caption_size'><p class='moovie_caption' id='caption_track_"+o+"'></p></div>"),this.SetupMenu(),this.SetupLogic(),this.GetCaptions(),this.Keybinds(),ve(),_e()};this.SetupPlayer();var ye=W((function(){ve(),_e()}),100);window.addEventListener("resize",ye)}togglePlay(){this.togglePlay()}toggleSubtitles(){this.ActivateSubtitles()}toggleFullscreen(){this.SetFullScreen("toggleFullscreen")}destroy(){this.moovie_el_video.remove()}build(){this.SetupPlayer()}addTrack(e){if(e.options&&"object"==typeof e.options){for(var t=Object.keys(e.options).length,o=0;o<t;o++){var n,i,s;n=e.options[o].label?"label='"+e.options[o].label+"'":"label='New Subtitle'",i=e.options[o].srclang?"srclang='"+e.options[o].srclang+"'":"srclang='New'",(s=e.options[o].src?"src='"+e.options[o].src+"'":"")?document.getElementById(this.selector).insertAdjacentHTML("beforeend","<track "+n+" "+i+" "+s+">"):console.log("Error, 'src' can not be empty.")}document.querySelectorAll("#moovie_submenu_captions_"+this.randomID+" .caption_track").forEach((e=>{e.remove()})),this.GetCaptions(),"function"==typeof e.onComplete&&"function"==typeof(l=e.onComplete)&&l()}else console.error("Options must be and Object. Read documentation.");var l}change(e){var t;e.video&&"object"==typeof e.video?(e.video.videoSrc&&(this.video.pause(),this.video.src=e.video.videoSrc),e.video.posterSrc&&(this.element.setAttribute("poster",e.video.posterSrc),this.moovie_el_poster.style.backgroundImage="url("+e.video.posterSrc+")"),e.captions&&"object"==typeof e.captions&&e.captions.clearCaptions&&document.querySelectorAll("#moovie_submenu_captions_"+this.randomID+" .caption_track").forEach((e=>{e.remove()})),"function"==typeof e.onComplete&&"function"==typeof(t=e.onComplete)&&t()):console.error("Options must be and Object. Read documentation.")}get playerElement(){return this.video}get playing(){return Boolean(this.video.ready&&!this.video.paused&&!this.video.ended)}get paused(){return Boolean(this.video.paused)}get stopped(){return Boolean(this.video.paused&&0===this.video.currentTime)}get ended(){return Boolean(this.video.ended)}get duration(){const e=parseFloat(this.video.duration),t=(this.video.media||{}).duration;return e||(t||t===1/0?0:t)}get seeking(){return Boolean(this.video.seeking)}get currentTime(){return Number(this.video.currentTime)}get volume(){return this.video.volume}get muted(){return Boolean(this.video.muted)}get speed(){return Number(this.video.playbackRate)}get minimumSpeed(){return.1}get maximumSpeed(){return 8}get minimumOffset(){return-5}get maximumOffset(){return 5}get source(){return this.video.currentSrc}get captionOffset(){return this.moovie_el_rangeinput.value}set currentTime(e){this.video.currentTime=e,this.moovie_el_progressbar.value=e}set volume(e){this.video.volume=e,this.moovie_el_volume.value=e,this.checkSoundLevel("checkMute")}set speed(e){if(e<-.1||e>8)return"Value must be between -0.1 and 8";this.video.playbackRate=e,this.moovie_el_speedinput.value=e,this.SpeedChange()}set captionOffset(e){if(e<-5||e>5)return"Value must be between -5 and 5";this.moovie_el_rangeinput.value=e,this.OffsetChange()}set source(e){this.video.pause(),this.video.src=e,this.video.play()}set muted(e){e?this.checkSoundLevel("mutePlayer"):this.checkSoundLevel("unmutePlayer")}}try{module.exports=exports=Moovie}catch(e){}
//# sourceMappingURL=/sm/8074278d01f9cbcc5bf3641b13a985cfbbd1262f20f60f2556764c82531a336c.map
